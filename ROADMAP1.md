# План разработки консольной утилиты
### 0. Подготовительный этап
* 0.1. Включить таймер в Toggl
* 0.2. Прочитать требования проекта
* 0.3. Создать репозиторий на GitHub
* 0.4. Создать проект в IntelliJ IDEA
### 1. Подготовка тестовых данных
* 1.1. Описать пользователей

№ | Логин      |Пароль |           
--|------------|-------|
U1| admin      |admin  |
U2| petr       |petr101|
U3| vasya      |123    |
U4| q          |!@#$   |

* 1.2. Описать ресурсы

№ | Ресурс |Роль   | Пользователь|         
--|--------|-------|-------------|
R1| A      |READ   | vasya       |
R2| A.B    |EXECUTE| admin       |
R3| A.B.C  |WRITE  | petr       | 
R4| A.B.D  |READ   | q           |  
R5| A.BB   |EXECUTE| petr        |  
R6| AB     |WRITE  | admin       |
R7| A      |READ   | admin       |

### 2. Подготовка тестовых сценариев
* 2.1. Подготовить и записать тесты в bat/sh файл

№ | Входые данные      |Ожидаемый результат |           
----|------------|-------|
T1.1| app.jar      |1 + вывод справки  |
T1.2| app.jar -h       |1 + вывод справки|
T1.3| app.jar -q       |0 + вывод справки    |
T2.1| app.jar -login vasya -pass 123        |0   |
T2.2| app.jar -login VASYA -pass 123        |2   |
T2.3| app.jar -login asd -pass asd        |3   |
T2.3| app.jar -login admin -pass 123        |4   |
T2.4| app.jar -login admin -pass admin        |0   |
T3.1| app.jar -login vasya -pass 123 -role READ -res A        |0   |
T3.2| app.jar -login vasya -pass 123 -role DELETE -res A        |5   |
T3.3| app.jar -login vasya -pass 123 -role WRITE -res A        |6   |
T3.4| app.jar -login vasya -pass 123 -role READ -res A.B        |0   |
T3.5| app.jar -login admin -pass admin -role WRITE -res A.B.C        |0   |
T3.6| app.jar -login petr -pass petr101 -role DELETE -res A.B.C        |0   |
T3.7| app.jar -login vasya -pass 123 -role DELETE -res A        |4   |
T3.8| app.jar -login vasya -pass 123 -role DELETE -res A.B.C        |6   |
T3.9| app.jar -login admin -pass admin -role READ -res A.B.D        |6   |
T3.10| app.jar -login admin -pass admin -role EXECUTE -res A        |0   |
T4.1| app.jar -login vasya -pass 123 -role READ -res A -ds 2020-03-12 -de 2020-03-13 -vol 10       |0   |
T4.2| app.jar -login vasya -pass 123 -role WRITE -res A -ds 2020-03-12 -de 2020-03-13 -vol 10        |6   |
T4.3| app.jar -login vasya -pass 123 -role WRITE -res A -ds 2020-03-13 -de 2020-03-12 -vol 10        |7   |
T4.4| app.jar -login vasya -pass 123 -role WRITE -res A -ds 2020/03/12 -de 2020/03/13 -vol 10        |7   |
T4.5| app.jar -login vasya -pass 123 -role WRITE -res A -ds 2020.03.12 -de 2020.03.13 -vol 10        |7   |
* 2.2. Написать скрипт компиляции jar
* 2.3. Написать скрипт запуска утилиты
### 3. Простейшие сценарии
* 3.1. Создать метод для проверки наличия аргументов
* 3.1. Создать метод для вывода справки 
* 3.3. Создать метод для проверки необходимости вывода справки 
    - 3.3.1. Вывести справку если ***args[0]=="-h"*** (код возврата: 1)
    - 3.3.2. Вывести справку если количество аргументов превышает/занижает норму (код возврата: 0)
    - 3.3.3. Вывести справку если передан неизвестный аргумент (код возврата: 0)
    - 3.3.4. Вывести справку если аргументы не переданы (код возврата: 1)
### 4. Сценарии аунтефикации
* 4.1. Создать метод для проверки необхадимости аунтефицировать (***args[0]=="-login" && args[2]=="-pass"***)
* 4.2. Создать метод для проверки валидности логина
* 4.3. Создать метод для проверки наличия введённого логина в БД
* 4.4. Создать метод для проверки валидности пароля
* 4.5. Создать метод для получения хэша введёного пароля
* 4.6. Создать метод для получения хэша пароля из БД
* 4.7. Создать метод для проверки  двух хэшей
* 4.8. Описать класс ***User***, имеющий в конструкторе логин, хэш пароля
### 5. Сценарии авторизации
* 5.1. Описать класс ***Handler***, имеющий в конструкторе список аргументов
    - 5.1.1. Создать метод для обработки аргументов
    - 5.1.2. Создать метод для проверки необходимости авторизации
    - 5.1.3. Создать метод для проверки существования переданной роли в базе
* 5.2. Описать класс ***Resource***, имеющий в конструкторе ресурс, логин, роль
    - 5.2.1. Создать метод для проверки валидности введённого ресурса
    - 5.2.2. Создать метод для проверки наличия доступа юзера к ресурсу
    - 5.2.3. Создать метод для проверки вложенности ресурса и предостовления соответсвующих доступов
    - 5.2.4. Создать метод для авторизации
### 6. Аккаунтинг
* 6.1. Создать метод для проверки необходимости аккаунтинга
* 6.2. Описать класс ***Session***, имеющий в конструкторе логин, роль, ресурс, время старта и конца, объём
    - 6.2.1. Создать метод для проверки валидности параметров время старта и конца
    - 6.2.2. Создать метод для обработки параметров время старта и конца
    - 6.2.3. Создать метод для проверки валидности введённого объёма
    - 6.2.4. Создать метод для обработки введённого объёма
### 7. Тестирование
* 7.1. Прогон тестов и исправление ошибок
